# 一、基础任务说明

我会提供四个文件：

①  progmp 论文

②  会议展示 PPT

③  progmp使用方法

④  可用算法汇总文档

官网网址https://progmp.net/。其中①②为官网提供的材料，③为官网关于编程方法和技巧的直接复制，④为目前可以在内核使用的几种调度算法。

你需要学习并理解这些材料，从中总结 progmp 的编程方法。

在此基础上，帮助我实现一个自定义的 MPTCP 调度算法，命名为 mysche。

请给出：

可直接运行的 mysche 代码（符合 progmp DSL 语法）

中文注释，尽量详细

调试方法与排查思路

自动规避常见错误（见下面的第六部分）

 

# 二、mysche 算法功能需求

## 1.预输入参数

n：活跃子流数量（用户输入）

b1, b2：带宽范围（用户输入）

## 2.mysche 的两种传输模式

#### 模式一：延迟优先（minrtt 类似）

根据子流 RTT 排序，仅选择 RTT 最小的前 n 条子流，而不是使用全部子流。

发包逻辑与 minrtt 相同：

优先向时延（RTT）更小的子流填充发送窗口

选择条件：CWND > SKBS_IN_FLIGHT

#### 模式二：带宽约束优先（自定义逻辑）

根据带宽从大到小排序，依次选择子流，使得所有被选中活跃子流的带宽和 B 满足：

b1 < B < b2

在选好的活跃子流集合中继续沿用 minrtt 的发包策略：

优先填满 RTT 较小的子流的发送窗口。

 

# 三、代码实现要求

给出完整的 progmp 调度器代码：

SCHEDULER mysche {

  ...

}

所有局部变量必须使用：

VAR name = ...;

代码需要包含中文注释，解释每条语句作用与设计逻辑。

代码必须符合 progmp DSL 的语法，避免语法错误与无效字段。

使用到的子流属性、队列属性等，必须来自progmp使用方法，或是论文和 PPT 中允许访问的字段。

 

# 四、输出内容格式要求

你的回答必须包含：

mysche 调度器的完整代码

充分详细的中文注释

如何调试此算法的步骤（例如如何打印变量、如何定位 RTS、CWND、SKB_IN_FLIGHT 异常情况）
